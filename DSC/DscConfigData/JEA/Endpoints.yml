Configurations:
  - JeaEndpoints

JeaEndpoints:
  EndPoints:
    - Name: Diagnostic
      Ensure: Present
      RoleDefinitions:
        contoso\Domain Users:
          RoleCapabilities:
          - ReadEventLog
          - DiskInfo
          - ServiceInfo
      SessionType: RestrictedRemoteServer
      VisibleProviders: FileSystem
      VisibleFunctions: 
      - Get-Random
      - Get-Date
      
    - Name: SystemManagement
      Ensure: Present
      RoleDefinitions:
        Administrators:
          RoleCapabilities:
          - FileManagement
          - NetworkManagement
          - MachineManagement
          - ServiceManagement
      SessionType: RestrictedRemoteServer

    - Name: JeaDiscovery
      Ensure: Present
      RoleDefinitions:
        contoso\Domain Users:
          RoleCapabilities:
          - JeaCapability
        contoso\Domain Computers:
          RoleCapabilities:
          - JeaCapability
      SessionType: RestrictedRemoteServer

    - Name: JeaDemo1
      GroupManagedServiceAccount: contoso\GMSA1
      Ensure: Present
      RoleDefinitions:
        contoso\Domain Users:
          RoleCapabilities:
          - Demo1
        contoso\Domain Computers:
          RoleCapabilities:
          - Demo1
      SessionType: RestrictedRemoteServer

    - Name: JeaDemo2
      GroupManagedServiceAccount: contoso\GMSA1
      Ensure: Present
      RoleDefinitions:
        contoso\Domain Users:
          RoleCapabilities:
          - Demo1
        contoso\Domain Computers:
          RoleCapabilities:
          - Demo1
      SessionType: RestrictedRemoteServer
